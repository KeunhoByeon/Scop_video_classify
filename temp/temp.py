import json

import requests


def test_api(url):
    try:
        params = {"samples": {
            "4": "[0.5468641519546509, 0.5170136094093323, 0.47628146409988403, 0.4392228424549103, 0.7388564348220825, 0.5991262197494507, 0.39810293912887573, 0.4898707866668701, 0.6567675471305847, 0.43928641080856323, 0.45748984813690186, 0.6978256106376648, 0.6561446785926819, 0.7426832914352417, 0.5049042701721191, 0.6806674003601074, 0.45851337909698486, 0.4494444727897644, 0.5503402948379517, 0.4272700250148773, 0.5549299716949463, 0.5571784973144531, 0.45884260535240173, 0.3271667957305908, 0.48360520601272583, 0.38239505887031555, 0.43113911151885986, 0.5108354091644287, 0.5282767415046692, 0.6364312767982483, 0.490070641040802, 0.5641709566116333, 0.5635918974876404, 0.44543299078941345, 0.7317056059837341, 0.5349097847938538, 0.4867902994155884, 0.3907397985458374, 0.5804206728935242, 0.3669697344303131, 0.42741572856903076, 0.5216858983039856, 0.6055769324302673, 0.39087074995040894, 0.5256401896476746, 0.34541967511177063, 0.49206051230430603, 0.45975980162620544, 0.6078794002532959, 0.6860495209693909, 0.5017381310462952, 0.6387631893157959, 0.5972630381584167, 0.604843258857727, 0.5638248920440674, 0.7212029695510864, 0.44406047463417053, 0.6483291983604431, 0.6919480562210083, 0.6921782493591309, 0.4936906099319458, 0.5732296109199524, 0.4211660623550415, 0.5754359364509583]",
            "7": "[0.5518237352371216, 0.5179640650749207, 0.46869009733200073, 0.4219106137752533, 0.7313377857208252, 0.5889989733695984, 0.4045601487159729, 0.49633949995040894, 0.6490518450737, 0.4238836467266083, 0.45796918869018555, 0.7017989158630371, 0.662957489490509, 0.7528326511383057, 0.5078834891319275, 0.6842196583747864, 0.44502127170562744, 0.4345538318157196, 0.5509313941001892, 0.427030086517334, 0.5530194044113159, 0.589907705783844, 0.45210006833076477, 0.3403041958808899, 0.4805031716823578, 0.38780903816223145, 0.4328962564468384, 0.514266848564148, 0.5201932787895203, 0.64813232421875, 0.4840671122074127, 0.5510645508766174, 0.5824462175369263, 0.4416956603527069, 0.7499168515205383, 0.539861798286438, 0.4852103590965271, 0.3822755515575409, 0.557986319065094, 0.35215163230895996, 0.43550795316696167, 0.5218007564544678, 0.6161125898361206, 0.38378390669822693, 0.5290363430976868, 0.34245431423187256, 0.49549901485443115, 0.4580322504043579, 0.6086634993553162, 0.6858271360397339, 0.5086608529090881, 0.6435379981994629, 0.5851554274559021, 0.5950857400894165, 0.5767350196838379, 0.7365055084228516, 0.4505498707294464, 0.6569617390632629, 0.71461021900177, 0.69661945104599, 0.5136739611625671, 0.5789625644683838, 0.4224846661090851, 0.5943976640701294]",
            "8": "[0.5496544241905212, 0.4885574281215668, 0.4757801294326782, 0.4148448705673218, 0.7339188456535339, 0.5959987044334412, 0.40864965319633484, 0.49345993995666504, 0.6573910117149353, 0.4176102876663208, 0.46693548560142517, 0.7008692026138306, 0.6514750123023987, 0.7408231496810913, 0.5111376047134399, 0.6645246744155884, 0.43755489587783813, 0.4461861252784729, 0.5503586530685425, 0.4279644787311554, 0.5420981049537659, 0.569716215133667, 0.45232319831848145, 0.3234332203865051, 0.4958020746707916, 0.39011573791503906, 0.416409432888031, 0.5282942056655884, 0.5150620937347412, 0.651059627532959, 0.4947758615016937, 0.5585915446281433, 0.5890792012214661, 0.4492602050304413, 0.7509007453918457, 0.5385013818740845, 0.47300758957862854, 0.39544105529785156, 0.5736111998558044, 0.37880876660346985, 0.4332256615161896, 0.5448668599128723, 0.5908721089363098, 0.3738599121570587, 0.5233059525489807, 0.3516468405723572, 0.4986730217933655, 0.46657100319862366, 0.6076683402061462, 0.7152414321899414, 0.5034173130989075, 0.6535114049911499, 0.572257936000824, 0.5839565992355347, 0.5898458361625671, 0.7278875112533569, 0.44527116417884827, 0.6539329886436462, 0.6961113810539246, 0.6892368197441101, 0.5037745237350464, 0.570643961429596, 0.4304667115211487, 0.6064912676811218]"},
            "templates": {
                "1": "[0.6618813872337341, 0.6500167846679688, 0.5687576532363892, 0.4154025614261627, 0.628676176071167, 0.569707989692688, 0.558452308177948, 0.47193363308906555, 0.4793408215045929, 0.7248806953430176, 0.480926513671875, 0.18893928825855255, 0.4759453535079956, 0.6335995197296143, 0.5576541423797607, 0.5376909971237183, 0.4636961817741394, 0.5830302238464355, 0.5515533089637756, 0.36547616124153137, 0.32037174701690674, 0.3916195034980774, 0.20818652212619781, 0.5086870193481445, 0.619891345500946, 0.4990747570991516, 0.34341365098953247, 0.4327448308467865, 0.6052940487861633, 0.45673686265945435, 0.5668569207191467, 0.6761228442192078, 0.4563697874546051, 0.5408942699432373, 0.3762515187263489, 0.32347604632377625, 0.35061582922935486, 0.4252839982509613, 0.46119263768196106, 0.5259866714477539, 0.5407395362854004, 0.35581108927726746, 0.5127240419387817, 0.4122386574745178, 0.5715356469154358, 0.5431368350982666, 0.4639601707458496, 0.3494763672351837, 0.49159368872642517, 0.597966194152832, 0.48106956481933594, 0.4894256591796875, 0.4748707115650177, 0.6635608673095703, 0.3861880898475647, 0.4640287756919861, 0.5581392049789429, 0.7531253099441528, 0.4066828489303589, 0.4401632249355316, 0.4888981282711029, 0.5132680535316467, 0.4740208685398102, 0.6668857336044312]",
                "2": "[0.6532908082008362, 0.6362088322639465, 0.5628550052642822, 0.4395582973957062, 0.6208927035331726, 0.5594434142112732, 0.5589795708656311, 0.4866352081298828, 0.46645352244377136, 0.7337299585342407, 0.49071455001831055, 0.21021996438503265, 0.4840374290943146, 0.6349270343780518, 0.5393773317337036, 0.5368635058403015, 0.46859365701675415, 0.5663897395133972, 0.5540338754653931, 0.3822891116142273, 0.31370389461517334, 0.4059811234474182, 0.220158189535141, 0.5246867537498474, 0.6211026906967163, 0.5088815689086914, 0.32679080963134766, 0.4150029718875885, 0.6148051023483276, 0.4412817358970642, 0.5628424286842346, 0.6624130606651306, 0.44522929191589355, 0.5391791462898254, 0.3895416557788849, 0.33197304606437683, 0.36339157819747925, 0.4185672998428345, 0.4459921717643738, 0.5340732932090759, 0.5403414964675903, 0.3573755621910095, 0.5132144093513489, 0.3964471220970154, 0.556879460811615, 0.5459919571876526, 0.4706963896751404, 0.3406735062599182, 0.49844202399253845, 0.6058215498924255, 0.44971156120300293, 0.48672690987586975, 0.4550817906856537, 0.6385857462882996, 0.3940331041812897, 0.4425242245197296, 0.5505778193473816, 0.7330113053321838, 0.40804243087768555, 0.435003399848938, 0.4922909438610077, 0.50337153673172, 0.4733695387840271, 0.6687018275260925]",
                "3": "[0.6572855114936829, 0.6392818093299866, 0.5634676814079285, 0.41503164172172546, 0.6293264627456665, 0.5350213050842285, 0.5504785776138306, 0.4887601435184479, 0.46441376209259033, 0.7401476502418518, 0.490632563829422, 0.2094685286283493, 0.46697279810905457, 0.6459376215934753, 0.5527897477149963, 0.5348386764526367, 0.4622315764427185, 0.5619483590126038, 0.5308045744895935, 0.39085566997528076, 0.32809656858444214, 0.3906000256538391, 0.22179575264453888, 0.5150132775306702, 0.6243481636047363, 0.5101049542427063, 0.3473767936229706, 0.4414379298686981, 0.622633695602417, 0.4464970529079437, 0.5726190805435181, 0.6717945337295532, 0.4589221179485321, 0.5420217514038086, 0.39366137981414795, 0.3299467861652374, 0.35852164030075073, 0.4228154122829437, 0.44960519671440125, 0.552265465259552, 0.5369688272476196, 0.34748074412345886, 0.5012955069541931, 0.40450334548950195, 0.5550944209098816, 0.5470041036605835, 0.4626370966434479, 0.35468563437461853, 0.47675904631614685, 0.6046940088272095, 0.4718152582645416, 0.4893726110458374, 0.4637959599494934, 0.6425846815109253, 0.39113593101501465, 0.47344914078712463, 0.5649146437644958, 0.74074387550354, 0.40254274010658264, 0.42296409606933594, 0.4786972403526306, 0.5096155405044556, 0.4858309030532837, 0.66640704870224]",
                "4": "[0.6545676589012146, 0.6594111323356628, 0.5641862750053406, 0.4294047951698303, 0.6208778023719788, 0.5465286374092102, 0.5587328672409058, 0.4991236925125122, 0.4542391896247864, 0.7368571758270264, 0.47123485803604126, 0.1997234970331192, 0.47118571400642395, 0.6560211181640625, 0.5530911684036255, 0.5371159315109253, 0.46635520458221436, 0.5771008729934692, 0.548669159412384, 0.36912965774536133, 0.316875159740448, 0.3919040858745575, 0.20396305620670319, 0.5004262924194336, 0.6374455690383911, 0.49619606137275696, 0.33525922894477844, 0.4360786974430084, 0.6208255887031555, 0.46236923336982727, 0.5532491207122803, 0.659229040145874, 0.4627089202404022, 0.5408918261528015, 0.37695685029029846, 0.32813557982444763, 0.3397063910961151, 0.43217721581459045, 0.47097674012184143, 0.5161551833152771, 0.5395909547805786, 0.3464704155921936, 0.497317373752594, 0.41294151544570923, 0.5517129302024841, 0.5552961826324463, 0.4621506333351135, 0.340483695268631, 0.49697116017341614, 0.592928409576416, 0.46157845854759216, 0.5042191743850708, 0.4636726677417755, 0.6580674052238464, 0.3969283401966095, 0.4474892318248749, 0.5440183281898499, 0.7401052713394165, 0.4123547673225403, 0.4461064636707306, 0.47765013575553894, 0.5130341649055481, 0.48010072112083435, 0.6683726906776428]",
                "5": "[0.6515086889266968, 0.648587703704834, 0.5692903995513916, 0.40343183279037476, 0.6153708100318909, 0.548732340335846, 0.5391530394554138, 0.4991433918476105, 0.4760551154613495, 0.7203308939933777, 0.46666625142097473, 0.20875491201877594, 0.46786928176879883, 0.6351798176765442, 0.5441198348999023, 0.5277440547943115, 0.4759262204170227, 0.5738595724105835, 0.545008659362793, 0.3728368282318115, 0.32401272654533386, 0.39122122526168823, 0.21730375289916992, 0.510725736618042, 0.6322812438011169, 0.4933810234069824, 0.3324812352657318, 0.4615194499492645, 0.5956519246101379, 0.4584023952484131, 0.5541110038757324, 0.6428132057189941, 0.45850491523742676, 0.5532099008560181, 0.3958601653575897, 0.3327827751636505, 0.34794971346855164, 0.4418851435184479, 0.4542696475982666, 0.5312274694442749, 0.5348276495933533, 0.3479893207550049, 0.5189800262451172, 0.41016069054603577, 0.5639456510543823, 0.5529599189758301, 0.4629271328449249, 0.3691090941429138, 0.48171737790107727, 0.6059106588363647, 0.46757981181144714, 0.485980361700058, 0.48089075088500977, 0.6586137413978577, 0.37775468826293945, 0.4644606411457062, 0.5652199387550354, 0.7468236684799194, 0.41352012753486633, 0.42076852917671204, 0.4827876389026642, 0.5053051710128784, 0.4653165638446808, 0.6543604731559753]",
                "6": "[0.6371213793754578, 0.6415507197380066, 0.585628867149353, 0.4082888066768646, 0.611636757850647, 0.5625596046447754, 0.5378562808036804, 0.4932348132133484, 0.45796823501586914, 0.7247342467308044, 0.4839872419834137, 0.1918579488992691, 0.47115814685821533, 0.6473668813705444, 0.5694249868392944, 0.5191078186035156, 0.462907612323761, 0.5705603957176208, 0.5490239858627319, 0.36188021302223206, 0.31620317697525024, 0.39095190167427063, 0.21213755011558533, 0.5042230486869812, 0.6361187696456909, 0.5005889534950256, 0.32548242807388306, 0.44846826791763306, 0.6201578974723816, 0.44987401366233826, 0.5764489769935608, 0.6602696180343628, 0.4472283720970154, 0.5373930931091309, 0.3884892761707306, 0.3147071301937103, 0.3447161018848419, 0.4380331039428711, 0.44966989755630493, 0.5085078477859497, 0.544613242149353, 0.35388147830963135, 0.5166147351264954, 0.3899264633655548, 0.5536335706710815, 0.551296591758728, 0.4707246422767639, 0.3596351742744446, 0.48196741938591003, 0.5987021923065186, 0.4667980372905731, 0.49161961674690247, 0.4677223563194275, 0.6525794267654419, 0.3873819410800934, 0.45612403750419617, 0.547191858291626, 0.7490015625953674, 0.43407151103019714, 0.4352612793445587, 0.49311330914497375, 0.5122502446174622, 0.4673541486263275, 0.6698574423789978]",
                "7": "[0.6530316472053528, 0.6491669416427612, 0.5746414065361023, 0.41924622654914856, 0.6300929188728333, 0.5617373585700989, 0.5760983824729919, 0.4895702600479126, 0.4697059988975525, 0.7373965382575989, 0.481278657913208, 0.20160235464572906, 0.4703289270401001, 0.6400525569915771, 0.5578064918518066, 0.5405167937278748, 0.45661163330078125, 0.5840606093406677, 0.5406765341758728, 0.37959110736846924, 0.31864577531814575, 0.3850157558917999, 0.20998671650886536, 0.5180256366729736, 0.6283924579620361, 0.517953634262085, 0.3306344449520111, 0.43359121680259705, 0.6158880591392517, 0.44900819659233093, 0.5524120330810547, 0.6603067517280579, 0.44944506883621216, 0.5351823568344116, 0.3699624240398407, 0.3158414959907532, 0.345776230096817, 0.43817147612571716, 0.45374614000320435, 0.5216296911239624, 0.5481785535812378, 0.3512870967388153, 0.5105127096176147, 0.410251259803772, 0.5560263991355896, 0.548980176448822, 0.4723246693611145, 0.34928640723228455, 0.4765830934047699, 0.5981879830360413, 0.4528108537197113, 0.48419395089149475, 0.4613518714904785, 0.6524494886398315, 0.3925943076610565, 0.4476986229419708, 0.5638763308525085, 0.7629076242446899, 0.40462273359298706, 0.42058253288269043, 0.4888475835323334, 0.5073763132095337, 0.48696351051330566, 0.6677820086479187]",
                "8": "[0.6475141644477844, 0.6586843132972717, 0.5640737414360046, 0.4302660822868347, 0.6239215731620789, 0.5553514957427979, 0.5667634010314941, 0.4841623306274414, 0.47922930121421814, 0.7303539514541626, 0.4962165355682373, 0.20852448046207428, 0.44755178689956665, 0.6410130262374878, 0.5493780374526978, 0.5383836627006531, 0.47594988346099854, 0.5788798928260803, 0.5403074622154236, 0.37337756156921387, 0.3256584107875824, 0.39388802647590637, 0.21701037883758545, 0.5024001598358154, 0.623275876045227, 0.4992838501930237, 0.3499995172023773, 0.4355142116546631, 0.6186454892158508, 0.45110830664634705, 0.5714632868766785, 0.6690900921821594, 0.4660392701625824, 0.5378415584564209, 0.40123051404953003, 0.3274395167827606, 0.3391720950603485, 0.4255543053150177, 0.4546878933906555, 0.5166574716567993, 0.5556277632713318, 0.3540181815624237, 0.5282031297683716, 0.3955612778663635, 0.5677779316902161, 0.5454620122909546, 0.4773087799549103, 0.36916619539260864, 0.4934961795806885, 0.5916796326637268, 0.4797075688838959, 0.48302772641181946, 0.4599306881427765, 0.6641032099723816, 0.38726186752319336, 0.4521459639072418, 0.551298975944519, 0.7460255026817322, 0.402664452791214, 0.43264853954315186, 0.4951731860637665, 0.5022327303886414, 0.4633353650569916, 0.667617678642273]",
                "9": "[0.6564313173294067, 0.6424376368522644, 0.5745766162872314, 0.42536622285842896, 0.6312057971954346, 0.565226674079895, 0.5625701546669006, 0.4839242398738861, 0.46618854999542236, 0.7320906519889832, 0.48050907254219055, 0.20865219831466675, 0.47730907797813416, 0.6307865977287292, 0.5577647686004639, 0.5347285270690918, 0.4760585129261017, 0.5843643546104431, 0.5466228127479553, 0.3720656931400299, 0.321242094039917, 0.39580896496772766, 0.21658316254615784, 0.5068531036376953, 0.6277846097946167, 0.4832213222980499, 0.34273388981819153, 0.43947550654411316, 0.6103902459144592, 0.4473743438720703, 0.5718739628791809, 0.6634774208068848, 0.4406610429286957, 0.5344579815864563, 0.3853669762611389, 0.3284599483013153, 0.36153358221054077, 0.43852728605270386, 0.4549696147441864, 0.5230398178100586, 0.5367205739021301, 0.3565944731235504, 0.5142327547073364, 0.4024178683757782, 0.5520855188369751, 0.5418183207511902, 0.4804728329181671, 0.35972166061401367, 0.4895503520965576, 0.6019182801246643, 0.47433966398239136, 0.49865809082984924, 0.47006306052207947, 0.6632733941078186, 0.3777655065059662, 0.44725093245506287, 0.5444144010543823, 0.7459225058555603, 0.4088808298110962, 0.42640721797943115, 0.46486717462539673, 0.5154275894165039, 0.4769502580165863, 0.6557581424713135]",
                "10": "[0.6666162610054016, 0.6464693546295166, 0.5495228171348572, 0.43010634183883667, 0.6237419247627258, 0.5534096360206604, 0.5507859587669373, 0.49224331974983215, 0.4869939982891083, 0.7320650815963745, 0.47837188839912415, 0.21335922181606293, 0.4842192232608795, 0.6375511288642883, 0.5556755065917969, 0.5338432192802429, 0.475009560585022, 0.5809754133224487, 0.5524192452430725, 0.39177367091178894, 0.322061687707901, 0.39066070318222046, 0.21482586860656738, 0.5216131210327148, 0.6334180235862732, 0.5066810846328735, 0.3519198000431061, 0.42959240078926086, 0.6178914308547974, 0.44083690643310547, 0.5665686726570129, 0.6547781825065613, 0.45076701045036316, 0.5372587442398071, 0.39036643505096436, 0.3271137773990631, 0.3440234363079071, 0.4263702630996704, 0.46842560172080994, 0.5306146740913391, 0.5482568740844727, 0.36312830448150635, 0.5328478813171387, 0.40708813071250916, 0.5658406019210815, 0.5437625050544739, 0.4586614668369293, 0.34954726696014404, 0.48640134930610657, 0.5848950147628784, 0.4689088761806488, 0.489353209733963, 0.4637640714645386, 0.653683602809906, 0.3975636065006256, 0.44469743967056274, 0.5555998086929321, 0.7444157600402832, 0.39668846130371094, 0.42994117736816406, 0.48193931579589844, 0.5073925256729126, 0.47893768548965454, 0.6551567912101746]"},
            "max_num": 5, }

        params = json.dumps(params)

        response = requests.post(url, data=params)

        status_code = response.status_code
        print('Status code: {}'.format(status_code))

        content = json.loads(response.content)
        print(content)

        return 0

    except Exception as e:
        print(e)


if __name__ == '__main__':
    # Template recommendation url
    url = 'https://wsynqpiex7.execute-api.ap-northeast-2.amazonaws.com/recommendation_alpha_02'

    test_api(url)
